<!DOCTYPE html>
<html lang="en" id="ng-app" data-ng-app="feature" xmlns:ng="http://angularjs.org" class="ng-app:feature">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Komal Singh">
    <link rel="icon" href="stylesheets/favicon%20(1).ico">
    <title>Sentinel EMS</title>
    <style>
        [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
            display: none !important;
        }
    </style>
    <script src="scripts/dependency/ht"
    <script src="scripts/dependency/json3.min.js"></script>
    <link href="stylesheets/css/bootstrap.min.css" rel="stylesheet">
    <link href="stylesheets/css/dashboard.css" rel="stylesheet">
    <script src="scripts/dependency/html5.js"></script>
    <script src="scripts/dependency/ie8-responsive-file-warning.js"></script>
    <script src="scripts/dependency/ie-emulation-modes-warning.js"></script>
    <script src="scripts/dependency/html5shiv.min.js"></script>
    <script src="scripts/dependency/respond.min.js"></script>
    <script src="scripts/dependency/jquery-latest.min.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <link href="stylesheets/css/animation.css" rel="stylesheet" type="text/css">
    <link href="stylesheets/css/cssmenu.css" rel="stylesheet">
    <script src="scripts/dependency/menuscript.js"></script>
</head>

<body data-ng-controller="myController">
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Sentinel LDK License Design Tool</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a>Batch Code&nbsp;&nbsp;&nbsp;-</a>
                </li>
                <li class="dropdown">
                    <select class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                            aria-expanded="false"
                            style="margin-top: 15px;background-color: #222;color:#9d9d9d;border-color: #222">
                        <option style="background-color: white;color: black;padding: 4px;" value="DEMOMA">DEMOMA
                        </option>
                        <option style="background-color: white;color: black;padding: 4px;" value="DEMOMB">DEMOMB
                        </option>
                        <option style="background-color: white;color: black;padding: 4px;" value="DEMOMC">DEMOMC
                        </option>
                    </select>
                </li>
                <li><a href="#">Settings</a>
                </li>
                <li><a href="index.html">Logout</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div style="background-image:url(stylesheets/images/default-tier4.png);height:75px;width:100%;background-attachment: fixed;background-repeat: no-repeat; background-size:contain;">
    <h3 style="margin-top:-1px;color:#676767;margin-left:20%"><br>Features</h3>
</div>
<div class="container-fluid">
    <div class="col-sm-3 col-md-2 sidebar">
        <div id='cssmenu'>
            <ul>
                <li class='active has-sub'><a href='#'>Catalog</a>
                    <ul>
                        <li><a href='Features.html'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Define Feature</a>
                        </li>
                        <li><a href='Product.html'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Define Product</a>
                        </li>
                    </ul>
                </li>
                <li class='has-sub'><a href=''>Manage Licenses</a>
                    <ul>
                        <li><a href='LicenseDefine.html'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Production License</a></li>
                        <li><a href='ProvisionalLicense.html'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Provisional
                            License</a></li>
                    </ul>
                </li>
                <li><a href='view_key_state.html'>View Key State</a></li>
                <li><a href='#'>Master Key State</a>
                </li>
                <li><a href='#'>Help</a>
                </li>

            </ul>
        </div>
    </div>

    <div class="col-sm-9 col-sm-offset-3 col-md-8 col-md-offset-3 main">
        <div>
            <div >
                <div class="col-sm-7">
                    <h4 class="sub-header" style="color: #5f7c74">Existing Features </h4>
                </div>
                <div class="col-sm-3 col-sm-offset-0">
                    <div>
                        <div>
                            <button class="btn btn-default" data-toggle="modal" data-target="#modalId" style="float: right">+Add New
                                Feature
                            </button>
                            <div id="modalId" role="dialoge" class="modal fade" data-backdrop="static" data-keyboard="false">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header"
                                             style="background-color:#919191;color:#FFF;font-weight: 300;padding: 5px;">
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                            <h4> &nbsp;&nbsp;New Features</h4>
                                        </div>
                                        <div class="modal-body col-md-12" style="background-color:white;">
                                            <div class="col-md-2"></div>
                                            <div class="col-md-8">
                                                <br>
                                                <script>
                                                    function isNumberKey(evt){
                                                        var charCode = (evt.which) ? evt.which : event.keyCode
                                                        if (charCode > 31 && (charCode < 48 || charCode > 57))
                                                            return false;
                                                        return true;
                                                    }
                                                </script>
                                                <form name="myform1" nonvalidate class="css-form">
                                                    <label>Feature ID: </label>
                                                    <input type="number" placeholder="Feature ID"  onkeypress="return isNumberKey(event)" class="form-control" name="id1" ng-model="featureAdd.featureID" ng-pattern=" /^\d+$/" min="1" max="65471" required="">
                                                    <div ng-show="myform1.$submitted || myform1.id1.$touched">
                                                        <div ng-show="myform1.id1.$error.required" style="color: red;">Please Enter Feature ID</div>
                                                    </div>
                                                    <label style="margin-top:10px">Feature Name:</label>
                                                    <input type="text" placeholder="Feature Name" class="form-control" name="featureName1" ng-minlength="1" ng-maxlength="38" ng-model="featureAdd.featureName" required="">
                                                    <div ng-show="myform1.$submitted || myform1.featureName1.$touched">
                                                        <div ng-show="myform1.featureName1.$error.required" style="color: red;">Please Enter Feature Name</div>
                                                    </div>
                                                    <label style="margin-top:10px">Feature Description:</label>
                                                    <input type="text" placeholder="Feature Description" class="form-control" name="featureDescription1" ng-model="featureAdd.featureDescription" required="">
                                                    <div ng-show="myform1.$submitted || myform1.featureDescription1.$touched">
                                                        <div ng-show="myform1.featureDescription1.$error.required" style="color: red;">Please Enter Feature Description</div>
                                                    </div>
                                                    <input type="text" ng-hide="true" ng-init="featureAdd.flag='false'" ng-model="featureAdd.flag" value="false">
                                                    <br>
                                            </div>
                                        </div>
                                        <div class="modal-footer" style="background-color:#919191;padding: 7px;">
                                            <input type="submit" style="margin-left: 200px;margin-top: 5px;" class="btn btn-warning btn-sm" ng-disabled="(myform1.featureID1.$pristine || myform1.featureName1.$pristine ) ||
                                            (myform1.featureID1.$invalid && myform1.featureID1.$dirty) || (myform1.featureName1.$invalid  && myform.featureName1.$dirty) || (myform1.featureDescription1.$invalid && myform1.featureDescription1.$dirty)"
                                                     data-ng-click="add(featureAdd,myform1)" value="Add Feature">
                                            <button class="btn btn-default btn-sm" data-dismiss="modal" style="margin-top: 5px;" ng-click="reset(myform1)" >Close</button>
                                            </form>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="table-responsive col-md-10  text-left">
                <input type="text" class="form-control" placeholder="Search Features..." ng-model="searchText"
                       style="margin-left:1px;height: 30px;margin-bottom: 5px;"/>
                <div style="height: 330px;">
                    <table frame="box" bordercolor="#DFCBCB" class="table table-striped table-condensed  table-responsive">
                    <thead>
                    <tr>
                        <th data-align="left" ng-click="sort('featureID')"> ID
                            <span class="glyphicon sort-icon" ng-show="sortKey=='featureID'" ng-class="{'glyphicon-chevron-up':reverse, 'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th data-align="left" ng-click="sort('featureName')"> Name
                            <span class="glyphicon sort-icon" ng-show="sortKey=='featureName'" ng-class="{'glyphicon-chevron-up':reverse, 'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th data-align="left" >Description</th>
                        <th data-align="left" ng-click="sort('status')">Status
                            <span class="glyphicon sort-icon" ng-show="sortKey=='status'" ng-class="{'glyphicon-chevron-up':reverse, 'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th data-align="left">Actions</th>
                    </tr>
                    </thead>
                    <tbody class="text-left">
                    <tr dir-paginate="f in feature | filter : searchText | itemsPerPage:8 | orderBy:sortKey:reverse">
                        <td>{{f.featureID}}</td>
                        <td>{{f.featureName}}</td>
                        <td>{{f.featureDescription}}</td>
                        <td ng-if="f.flag == 'false' ">Draft</td>
                        <td ng-if="f.flag == 'true' ">In&nbsp;Use</td>
                        <td>
                            <button class="btn btn-default btn-xs glyphicon glyphicon-pencil" data-toggle="modal"
                                    data-target="#modalId1" ng-click="edit(f._id)">
                            </button>
                            <button class="btn btn-default btn-xs glyphicon glyphicon-trash"
                                    ng-disabled="f.flag=='true'" ng-click="remove(f._id)"></button>
                        </td>
                    </tr>
                    </tbody>
                </table>
                </div>
                <style>
                    .pagination .active a{
                        background-color: #C1C2C4;
                        color: #000;
                        border-color: #C1C2C4;
                    }
                    .pagination .active a:hover {
                        background-color: #5f7c74;
                        color: white;
                        border-color: #5f7c74;
                    }

                    .pagination .active a:focus, .pagination .active a:hover, .pagination .active span, .pagination .active span:focus, .pagination .active span:hover{
                        z-index: 2;
                        color: white;
                        border-color: #5f7c74;
                        background-color: #5f7c74;
                        cursor: default;
                    }

                    .pagination {
                        margin: 0px;
                        margin-top: -10px;
                        margin-left: 30%;
                    }
                </style>
                <dir-pagination-controls max-size="5" direction-link="true" boundary-links="true"></dir-pagination-controls>
            </div>
        </div>
    </div>
</div>
<div>
    <div id="modalId1" role="dialoge" class="modal fade" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color:#919191;color:#FFF;font-weight: 300;padding: 7px;">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4>&nbsp;&nbsp;Edit Feature</h4>
                </div>
                <div class="modal-body col-md-12" style="background-color: white">
                    <div class="col-md-2"></div>
                    <div frame="box" class="col-md-8">
                        <br>
                        <form name="myform" novalidate>
                            <label>Feature ID: </label>
                            <input type="text" placeholder="Feature ID" class="form-control" name="featureID"
                                   ng-model="featureAdd1.featureID" ng-if="featureAdd1.flag=='true'" ng-disabled="true" onkeypress="return isNumberKey(event)"
                                   ng-pattern=" /^\d+$/" min="1" max="65471" required>


                            <div ng-show="myform.$submitted || myform.featureID.$touched">
                                <div ng-show="myform.featureID.$error.required" style="color: red;">Please enter valid ID.</div>
                            </div>
                            <input type="number" placeholder="Feature ID" class="form-control" name="featureID"
                                   ng-model="featureAdd1.featureID" ng-if="featureAdd1.flag=='false'" onkeypress="return isNumberKey(event)"
                                   ng-disabled="false" ng-pattern=" /^\d+$/" min="1" max="65471" required>

                                <span style="color:red" ng-show="myform.featureID.$dirty && myform.featureID.$invalid">
                        <span ng-show="myform.featureID.$error.required || myform.featureID.$dirty && myform.featureID.$invalid"> Invalid Feature ID</span>
                                </span>
                            <br>
                            <label>Feature Name:</label>
                            <input type="text" placeholder="Feature Name" class="form-control" name="featureName"
                                   ng-model="featureAdd1.featureName" ng-if="featureAdd1.flag == 'true' "
                                   ng-disabled="true" ng-minlength="1" ng-maxlength="38" required>
                            <div ng-show="myform.$submitted || myform.featureName.$touched">
                                <div ng-show="myform.featureName.$error.required" style="color: red;">Please enter valid Name.</div>
                            </div>
                            <input type="text" placeholder="Feature Name" class="form-control" name="featureName"
                                   ng-model="featureAdd1.featureName" ng-if="featureAdd1.flag == 'false' "
                                   ng-disabled="false" ng-minlength="1" ng-maxlength="38" required>
                                <span style="color:red"
                                      ng-show="myform.featureName.$dirty && myform.featureName.$invalid">
                                <span ng-show="myform.featureName.$error.required">feature name is required</span>
                                </span>
                            <br>
                            <label>Feature Description:</label>
                            <input type="text" placeholder="Feature Description" class="form-control"
                                   name="featureDescription" ng-model="featureAdd1.featureDescription" required="">
                            <div ng-show="myform.$submitted || myform.featureDescription.$touched">
                                <div ng-show="myform.featureDescription.$error.required" style="color: red;">Please enter valid Description.</div>
                            </div>
                                <span style="color:red"
                                      ng-show="myform.featureDescription.$dirty && myform.featureDescription.$invalid">
                                <span ng-show="myform.featureDescription.$error.required"> </span>
                                </span>
                            <br>
                            <br>
                    </div>
                </div>
                <div class="modal-footer" style="background-color:#919191;color:#FFF;font-weight: 300;padding: 7px;">
                    <button style="margin-left: 200px; margin-top: 5px;" class="btn btn-warning btn-sm" ng-disabled=" (myform.featureID.$invalid && myform.featureID.$dirty) || (myform.featureName.$invalid  && myform.featureName.$dirty) || (myform.featureDescription.$invalid && myform.featureDescription.$dirty) " ng-click="update(featureAdd1)" data-dismiss="modal">Save
                    </button>
                    <button class="btn btn-default btn-sm" data-dismiss="modal" style="margin-left: 0px;margin-top: 5px;">
                        Close
                    </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<footer style="position:fixed;bottom:0;width:100%;color:grey;">
        <span style="text-align:center;color:grey;position:absolute;margin-bottom:1%;margin-left: 44%;">Copyright © 2015  Gemalto. All Rights Reserved.
        </span>
    <picture><span style="float:right;margin-right: 38px;"><img src="stylesheets/images/Gemalto.svg.png" alt="welcome to gemalto" width="100px"></span>
    </picture>
</footer>
<div class="modal fade" id="alert1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header" style="font-weight: 300;padding: 7px; background-color: red">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Error</h4>
            </div>
            <div class="modal-body" style="background-color: white">
                {{result}}
            </div>
            <div class="modal-footer" style="font-weight: 300;padding: 5px; background-color: red">
                <button type="button" class="btn btn-default btn-xs" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.js"></script>
<script src="scripts/dependency/jquery.min.js"></script>
<script src="scripts/dependency/bootstrap.min.js"></script>
<script src="scripts/dependency/holder.js"></script>
<script src="scripts/dependency/ie10-viewport-bug-workaround.js"></script>
<script src="scripts/dependency/angular.min.js"></script>
<script src="scripts/dependency/dirPagination.js"></script>
<script src="scripts/controller/FeatureController.js"></script>
</body>

</html>
